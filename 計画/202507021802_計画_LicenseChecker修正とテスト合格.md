# LicenseChecker修正とテスト合格計画

## 目的
LicenseCheckerの実装を修正し、失敗している13個のテストを全て合格させる

## 現状分析
- LicenseCheckerは部分的に実装されているが、テストが失敗中
- エラー内容: `TypeError: <lambda>() missing 1 required positional argument: 'p'`
- テストケースは適切に実装されているが、チェッカー本体に問題がある

## 実施タスク

### 1. エラー原因の調査
- [ ] src/src_check/rules/license.py の実装内容を確認
- [ ] テストファイル tests/unit/test_license_checker.py の確認
- [ ] ラムダ関数のエラー箇所を特定

### 2. LicenseChecker本体の修正
- [ ] ラムダ関数の引数エラーを修正
- [ ] 各検出機能の実装を確認・修正
  - [ ] LICENSE ファイルの検出機能
  - [ ] ライセンス種別の判定ロジック
  - [ ] 依存関係のライセンス互換性チェック
  - [ ] コピーライトヘッダーの検証

### 3. テストの実行と確認
- [ ] 個別テストの実行と確認
- [ ] 全テストの実行
- [ ] カバレッジの確認

### 4. 統合確認
- [ ] src-checkコマンドでLicenseCheckerが動作することを確認
- [ ] 他のチェッカーとの統合に問題がないことを確認

## 期待される成果
- 13個のテストが全て合格
- LicenseCheckerが正常に動作
- ライセンス関連の問題を適切に検出できる

## 技術的な詳細
### 検出する問題の種類
- LIC001: LICENSEファイルが見つからない
- LIC002: ライセンスの種類を認識できない
- LIC003: 依存関係のライセンス非互換性
- LIC004: コピーライトヘッダーの欠落
- LIC005: 古いコピーライト年
- LIC006: pyproject.tomlとLICENSEファイルの不一致
- LIC007: コピーレフトライセンスの警告

## 完了条件
- [ ] 全13個のテストが合格
- [ ] mypyエラーが0
- [ ] Black/Ruffによるフォーマットチェック合格
- [ ] src-checkコマンドで正常動作確認